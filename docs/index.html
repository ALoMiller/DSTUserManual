<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Northwest Atlantic Protected Species Decision Support Tool User Manual</title>
  <meta name="description" content="Northwest Atlantic Protected Species Decision Support Tool User Manual" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Northwest Atlantic Protected Species Decision Support Tool User Manual" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Northwest Atlantic Protected Species Decision Support Tool User Manual" />
  
  
  

<meta name="author" content="version 4.2.00" />


<meta name="date" content="2023-12-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="inside-the-dst-initial-load-and-configure.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">NAPS DST User Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preparing the DST Model Run</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#example-base-run-script"><i class="fa fa-check"></i><b>1.1</b> Example Base Run Script</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#inputactions-structures"><i class="fa fa-check"></i><b>1.2</b> InputActions Structures</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#saved-.csv-file"><i class="fa fa-check"></i><b>1.2.1</b> Saved .csv File</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#create-list-of-actions"><i class="fa fa-check"></i><b>1.2.2</b> Create List of Actions</a></li>
<li class="chapter" data-level="1.2.3" data-path="index.html"><a href="index.html#rerun-or-modify-previous-scenario"><i class="fa fa-check"></i><b>1.2.3</b> Rerun or Modify Previous Scenario</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#optional-inputlist-inputs"><i class="fa fa-check"></i><b>1.3</b> Optional InputList Inputs</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#available-fisheries"><i class="fa fa-check"></i><b>1.3.1</b> Available Fisheries</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#available-scenario-actions"><i class="fa fa-check"></i><b>1.3.2</b> Available Scenario Actions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="inside-the-dst-initial-load-and-configure.html"><a href="inside-the-dst-initial-load-and-configure.html"><i class="fa fa-check"></i><b>2</b> Inside the DST: Initial Load and Configure</a>
<ul>
<li class="chapter" data-level="2.1" data-path="inside-the-dst-initial-load-and-configure.html"><a href="inside-the-dst-initial-load-and-configure.html#read-input-list"><i class="fa fa-check"></i><b>2.1</b> Read Input List</a></li>
<li class="chapter" data-level="2.2" data-path="inside-the-dst-initial-load-and-configure.html"><a href="inside-the-dst-initial-load-and-configure.html#load-data"><i class="fa fa-check"></i><b>2.2</b> Load Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="inside-the-dst-model-stages.html"><a href="inside-the-dst-model-stages.html"><i class="fa fa-check"></i><b>3</b> Inside the DST: Model Stages</a>
<ul>
<li class="chapter" data-level="3.1" data-path="inside-the-dst-model-stages.html"><a href="inside-the-dst-model-stages.html#stage-1-gear-reductions"><i class="fa fa-check"></i><b>3.1</b> Stage 1: Gear Reductions</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Northwest Atlantic Protected Species Decision Support Tool User Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Northwest Atlantic Protected Species Decision Support Tool User Manual</h1>
<p class="author"><em>version 4.2.00</em></p>
<p class="date"><em>2023-12-07</em></p>
</div>
<div id="preparing-the-dst-model-run" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">1</span> Preparing the DST Model Run<a href="index.html#preparing-the-dst-model-run" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="example-base-run-script" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Example Base Run Script<a href="index.html#example-base-run-script" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To begin, we source the model code and set directories and specifications for model inputs and InputActions (either defined in a .csv file or within the R code [explained in section 1.2]). For this example we have named our scenario “MySubfolderName.”</p>
<pre><code>rm(list=ls()) ## Clear out global environment
HD=&quot;//net/work4/LobsterGroup/Management/RightWhales/DecisionSupportTool&quot;; setwd(HD) ## set directory to where inputs will be read from 
Version=&quot;DST_V4.2.00.R&quot; ## Specify which DST version to load/run
source(paste0(HD, &quot;/function_&quot;, Version)) ## Load DST version/functions into R environment

## REQUIRED InputList INPUTS
InputList = list(
  HomeDir=HD, ## home directory for subdirectories
  ModelVersion=Version, ## model version
  InputActions=list(Name = &quot;MySubfolderName/ExampleCSV.csv&quot;,
                    Source=”Wide”), ## see Section 1.2 Below
  MapRefDomain=&quot;MapRef_3.9.2.Rdata&quot;, ## MapRef 
  GearMapName = &quot;FisheryInputs_AllEastCoast_v4.0.1.Rdata&quot;, ## Fishery Input Layer
  ThreatModel=&quot;ThreatMod_RW_Selectivity_Uncertainty.Rdata&quot;, ## Gear Threat Model
  WhaleHabitatModel=&quot;Duke_RightWhaleModel_v12_1019.Rdata&quot;, ## Whale Habitat Model
WhaleVertDistInput=list(File=&quot;RightWhaleVerticalDistribution_CSA_V1.1.Rdata&quot;, Distribution=&quot;Ensemble&quot;), ## Whale Vertical Distribution
  WhaleDimensions=&quot;WhaleDimensions_AdHoc.Rdata&quot;, ## Whale Body Dimensions
  CommentText = “Example Comment Text” ## Written to output tables
) ## close InputList

DecisionTool(DecisionToolInputs = InputList) ## Call DST Function</code></pre>
</div>
<div id="inputactions-structures" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> InputActions Structures<a href="index.html#inputactions-structures" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="saved-.csv-file" class="section level3 hasAnchor" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> Saved .csv File<a href="index.html#saved-.csv-file" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When defining InputActions in the .csv file structure, an Excel spreadsheet (Ex. ScenarioTemplate_V4.0.0.xlsx) is used as a starting template for management. For each line, an action is specified and can be defined by fishery, spatial, and temporal bounds. Each additional column that subsets the action can be viewed as an “or” statement while each additional line (new action) can be viewed as an “and” statement.</p>
<div class="figure">
<img src="images/InputSpreadsheetExample.png" alt="" />
<p class="caption">An example InputActions spreadsheet in .csv file structure with two management actions. The first action restricts the model run to only Southern New England (SNE) and implements a soak limit on gillnet fisheries in Massachusetts (MA) waters for 1 day.</p>
</div>
<p>This Excel spreadsheet should be saved with a new name for the scenario run with the .csv file extension in the InputSpreadsheets directory (Ex. DecisionSupportTool/InputSpreadsheets/MySubfolderName/ExampleCSV.csv). “Source” tells the DST what format the input is in so it can read in the scenario inputs properly.</p>
<pre><code>InputActions = list(Name = “MySubfolderName/ExampleCSV.csv”,
    Source = “Wide”)</code></pre>
</div>
<div id="create-list-of-actions" class="section level3 hasAnchor" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> Create List of Actions<a href="index.html#create-list-of-actions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Write individual actions as lists, then merge together as list of lists to write into InputActions.
Example code for generating input list structure within R script:</p>
<pre><code>A1 &lt;- list(Action = &quot;ModelConstraint&quot;, 
           Region = &quot;GOM_GBK,SNE&quot;)
A2 &lt;- list(Action = &quot;Closure&quot;, 
           Fishery = &quot;Lobster&quot;,
           Months = &quot;1,2&quot;,
           Shapefile = &quot;South_Island_Restricted_Area_DST&quot;)
A3 &lt;- list(Action = &quot;Closure&quot;,
           Fishery = &quot;Gillnet&quot;,
           StatArea = &quot;514&quot;)
A4 &lt;- list(Action = &quot;GearReduction&quot;,
           StateFed = &quot;State&quot;)
My.Input.List &lt;- list(A1,A2,A3,A4)</code></pre>
<p>Since the DST will not be reading in an existing CSV, choose a Run Name you’d like to be written into your subfolder. “Source” is now the name of the list of lists you’ve just created.</p>
<pre><code>InputActions = list(Name = “MySubfolderName/MyRunName”,
    Source = My.Input.List)</code></pre>
<p>Be sure not to put “.csv” file at end of “MyRunName”. This will lead the model to look for a CSV file within the “InputSpreadsheets/MySubfolderName” rather than read your list.</p>
</div>
<div id="rerun-or-modify-previous-scenario" class="section level3 hasAnchor" number="1.2.3">
<h3><span class="header-section-number">1.2.3</span> Rerun or Modify Previous Scenario<a href="index.html#rerun-or-modify-previous-scenario" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>At the beginning of each DST run, the Scenario Inputs and InputActions are written into an “.RData” file within the subfolder specified under “InputActions = list()”. To rerun or modify a model, this “.RData” file can be read back in.
The following code will read in an object to your R Environment named “DecisionToolInputs”</p>
<p>load(paste0(HD,“/Scenarios/MySubfolderName/MyRunName/MyRunName_DecisionToolInputs.Rdata”))</p>
<p>To rerun the model as-is, a new InputList is not required, and the DST function can be called with the following line</p>
<p>DecisionTool(DecisionToolInputs)</p>
<p>You can also modify the structure of this model and rerun. For example, say that MyRunName was initially run with HighResolution = FALSE, but now a high resolution model is requested. To do this…</p>
<p>DecisionToolInputs$HighResolution &lt;- TRUE
DecisionTool(DecisionToolInputs)</p>
</div>
</div>
<div id="optional-inputlist-inputs" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> Optional InputList Inputs<a href="index.html#optional-inputlist-inputs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="available-fisheries" class="section level3 hasAnchor" number="1.3.1">
<h3><span class="header-section-number">1.3.1</span> Available Fisheries<a href="index.html#available-fisheries" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="available-scenario-actions" class="section level3 hasAnchor" number="1.3.2">
<h3><span class="header-section-number">1.3.2</span> Available Scenario Actions<a href="index.html#available-scenario-actions" class="anchor-section" aria-label="Anchor link to header"></a></h3>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="inside-the-dst-initial-load-and-configure.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ALoMiller/DSTUserManual/edit/main/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ALoMiller/DSTUserManual/blob/main/index.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
